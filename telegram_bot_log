2020-02-11 03:30:08,408 - telegram.ext.updater - INFO - Received signal 2 (SIGINT), stopping...
2020-02-11 03:39:37,681 - telegram.ext.updater - INFO - Received signal 2 (SIGINT), stopping...
2020-02-11 03:56:36,455 - telegram.ext.updater - INFO - Received signal 2 (SIGINT), stopping...
2020-02-11 04:03:02,002 - telegram.ext.updater - INFO - Received signal 2 (SIGINT), stopping...
2020-02-11 04:04:19,753 - telegram.ext.updater - INFO - Received signal 2 (SIGINT), stopping...
2020-02-11 04:04:36,597 - telegram.ext.dispatcher - ERROR - No error handlers are registered, logging exception.
Traceback (most recent call last):
  File "/home/ashoka/Documents/tattle_bot/venv/lib/python3.6/site-packages/telegram/ext/dispatcher.py", line 372, in process_update
    handler.handle_update(update, self, check, context)
  File "/home/ashoka/Documents/tattle_bot/venv/lib/python3.6/site-packages/telegram/ext/handler.py", line 117, in handle_update
    return self.callback(update, context)
  File "prototype.py", line 204, in storing_data
    final_dict = process_media(relevant_section,final_dict,content_type,context)
  File "prototype.py", line 167, in process_media
    new_file.download(message_json.message_id)
  File "/home/ashoka/Documents/tattle_bot/venv/lib/python3.6/site-packages/telegram/files/file.py", line 127, in download
    with open(filename, 'wb') as fobj:
OSError: [Errno 9] Bad file descriptor
2020-02-11 04:05:10,226 - telegram.ext.updater - INFO - Received signal 2 (SIGINT), stopping...
2020-02-11 04:07:47,155 - telegram.ext.updater - INFO - Received signal 2 (SIGINT), stopping...
2020-02-11 04:10:22,109 - telegram.ext.updater - INFO - Received signal 2 (SIGINT), stopping...
2020-02-11 04:11:00,965 - telegram.ext.updater - INFO - Received signal 2 (SIGINT), stopping...
2020-02-11 04:18:56,835 - telegram.ext.updater - INFO - Received signal 2 (SIGINT), stopping...
2020-02-11 04:25:58,797 - telegram.ext.updater - INFO - Received signal 2 (SIGINT), stopping...
2020-02-11 04:39:49,485 - telegram.ext.dispatcher - ERROR - No error handlers are registered, logging exception.
Traceback (most recent call last):
  File "/home/ashoka/Documents/tattle_bot/venv/lib/python3.6/site-packages/telegram/ext/dispatcher.py", line 372, in process_update
    handler.handle_update(update, self, check, context)
  File "/home/ashoka/Documents/tattle_bot/venv/lib/python3.6/site-packages/telegram/ext/handler.py", line 117, in handle_update
    return self.callback(update, context)
  File "prototype.py", line 226, in storing_data
    final_dict = process_media(relevant_section,final_dict,content_type,context)
  File "prototype.py", line 188, in process_media
    upload_file(file_name)
  File "prototype.py", line 163, in upload_file
    s3.upload_fileobj(file_name,bucket_name,file_name,ExtraArgs={"ACL": acl,"ContentType": file.content_type})
NameError: name 'file' is not defined
2020-02-11 04:40:19,217 - telegram.ext.updater - INFO - Received signal 2 (SIGINT), stopping...
2020-02-11 04:40:45,825 - telegram.ext.dispatcher - ERROR - No error handlers are registered, logging exception.
Traceback (most recent call last):
  File "/home/ashoka/Documents/tattle_bot/venv/lib/python3.6/site-packages/telegram/ext/dispatcher.py", line 372, in process_update
    handler.handle_update(update, self, check, context)
  File "/home/ashoka/Documents/tattle_bot/venv/lib/python3.6/site-packages/telegram/ext/handler.py", line 117, in handle_update
    return self.callback(update, context)
  File "prototype.py", line 226, in storing_data
    final_dict = process_media(relevant_section,final_dict,content_type,context)
  File "prototype.py", line 188, in process_media
    upload_file(file_name)
  File "prototype.py", line 163, in upload_file
    s3.upload_fileobj(file_name,bucket_name,file_name,ExtraArgs={"ACL": acl,"ContentType": file_name.split(".")[-1]})
  File "/home/ashoka/Documents/tattle_bot/venv/lib/python3.6/site-packages/boto3/s3/inject.py", line 525, in upload_fileobj
    raise ValueError('Fileobj must implement read')
ValueError: Fileobj must implement read
2020-02-11 04:43:31,573 - telegram.ext.updater - INFO - Received signal 2 (SIGINT), stopping...
2020-02-11 04:50:08,002 - telegram.ext.updater - INFO - Received signal 2 (SIGINT), stopping...
2020-02-11 04:50:40,615 - telegram.utils.promise - ERROR - An uncaught error was raised while running the promise
Traceback (most recent call last):
  File "/home/ashoka/Documents/tattle_bot/venv/lib/python3.6/site-packages/telegram/utils/promise.py", line 57, in run
    self._result = self.pooled_function(*self.args, **self.kwargs)
  File "prototype.py", line 232, in storing_data
    final_dict = process_media(relevant_section,final_dict,content_type,context)
  File "prototype.py", line 190, in process_media
    upload_file(file_name)
  File "prototype.py", line 159, in upload_file
    s3 = boto3.client("s3",aws_access_key_id=os.environ.get('S3_ACCESS_KEY'),aws_secret_access_key=os.environ.get('S3_SECRET_ACCESS_KEY'))
  File "/home/ashoka/Documents/tattle_bot/venv/lib/python3.6/site-packages/boto3/__init__.py", line 91, in client
    return _get_default_session().client(*args, **kwargs)
  File "/home/ashoka/Documents/tattle_bot/venv/lib/python3.6/site-packages/boto3/session.py", line 263, in client
    aws_session_token=aws_session_token, config=config)
  File "/home/ashoka/Documents/tattle_bot/venv/lib/python3.6/site-packages/botocore/session.py", line 824, in create_client
    endpoint_resolver = self._get_internal_component('endpoint_resolver')
  File "/home/ashoka/Documents/tattle_bot/venv/lib/python3.6/site-packages/botocore/session.py", line 697, in _get_internal_component
    return self._internal_components.get_component(name)
  File "/home/ashoka/Documents/tattle_bot/venv/lib/python3.6/site-packages/botocore/session.py", line 923, in get_component
    del self._deferred[name]
KeyError: 'endpoint_resolver'
2020-02-11 04:52:37,043 - telegram.ext.updater - INFO - Received signal 2 (SIGINT), stopping...
2020-02-11 05:07:04,887 - telegram.ext.updater - INFO - Received signal 2 (SIGINT), stopping...
2020-02-11 05:08:34,132 - telegram.ext.updater - INFO - Received signal 2 (SIGINT), stopping...
2020-02-11 13:02:30,814 - telegram.ext.updater - INFO - Received signal 2 (SIGINT), stopping...
2020-02-11 13:13:28,227 - telegram.utils.promise - ERROR - An uncaught error was raised while running the promise
Traceback (most recent call last):
  File "prototype.py", line 103, in reply_to_messages
    combine_tags(message_json,current_document,all_tags)
  File "prototype.py", line 71, in combine_tags
    new_tags = list(set(current_document['tags'] + all_tags))
TypeError: 'NoneType' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ashoka/Documents/tattle_bot/venv/lib/python3.6/site-packages/telegram/utils/promise.py", line 57, in run
    self._result = self.pooled_function(*self.args, **self.kwargs)
  File "prototype.py", line 227, in storing_data
    reply_to_messages(relevant_section,False)
  File "prototype.py", line 109, in reply_to_messages
    error_message()
TypeError: error_message() missing 1 required positional argument: 'message_json'
2020-02-11 13:14:46,377 - telegram.utils.promise - ERROR - An uncaught error was raised while running the promise
Traceback (most recent call last):
  File "prototype.py", line 103, in reply_to_messages
    combine_tags(message_json,current_document,all_tags)
  File "prototype.py", line 71, in combine_tags
    new_tags = list(set(current_document['tags'] + all_tags))
TypeError: 'NoneType' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ashoka/Documents/tattle_bot/venv/lib/python3.6/site-packages/telegram/utils/promise.py", line 57, in run
    self._result = self.pooled_function(*self.args, **self.kwargs)
  File "prototype.py", line 227, in storing_data
    reply_to_messages(relevant_section,False)
  File "prototype.py", line 109, in reply_to_messages
    error_message()
TypeError: error_message() missing 1 required positional argument: 'message_json'
2020-02-11 13:18:45,109 - telegram.utils.promise - ERROR - An uncaught error was raised while running the promise
Traceback (most recent call last):
  File "prototype.py", line 103, in reply_to_messages
    combine_tags(message_json,current_document,all_tags)
  File "prototype.py", line 71, in combine_tags
    new_tags = list(set(current_document['tags'] + all_tags))
TypeError: 'NoneType' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ashoka/Documents/tattle_bot/venv/lib/python3.6/site-packages/telegram/utils/promise.py", line 57, in run
    self._result = self.pooled_function(*self.args, **self.kwargs)
  File "prototype.py", line 227, in storing_data
    reply_to_messages(relevant_section,False)
  File "prototype.py", line 109, in reply_to_messages
    error_message()
TypeError: error_message() missing 1 required positional argument: 'message_json'
2020-02-11 13:26:03,061 - telegram.utils.promise - ERROR - An uncaught error was raised while running the promise
Traceback (most recent call last):
  File "prototype.py", line 188, in process_media
    new_file = context.bot.get_file(file_id)
UnboundLocalError: local variable 'file_id' referenced before assignment

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ashoka/Documents/tattle_bot/venv/lib/python3.6/site-packages/telegram/utils/promise.py", line 57, in run
    self._result = self.pooled_function(*self.args, **self.kwargs)
  File "prototype.py", line 235, in storing_data
    final_dict = process_media(relevant_section,final_dict,content_type,context,True)
  File "prototype.py", line 195, in process_media
    logging.debug("The file_name when the error happened is: {}".format(file_name))
UnboundLocalError: local variable 'file_name' referenced before assignment
2020-02-11 13:26:40,158 - telegram.utils.promise - ERROR - An uncaught error was raised while running the promise
Traceback (most recent call last):
  File "prototype.py", line 188, in process_media
    new_file = context.bot.get_file(file_id)
UnboundLocalError: local variable 'file_id' referenced before assignment

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ashoka/Documents/tattle_bot/venv/lib/python3.6/site-packages/telegram/utils/promise.py", line 57, in run
    self._result = self.pooled_function(*self.args, **self.kwargs)
  File "prototype.py", line 235, in storing_data
    final_dict = process_media(relevant_section,final_dict,content_type,context,True)
  File "prototype.py", line 195, in process_media
    logging.debug("The file_name when the error happened is: {}".format(file_name))
UnboundLocalError: local variable 'file_name' referenced before assignment
2020-02-11 13:47:30,962 - telegram.ext.updater - INFO - Received signal 2 (SIGINT), stopping...
2020-02-11 13:48:59,352 - telegram.ext.updater - INFO - Received signal 2 (SIGINT), stopping...
2020-02-11 13:56:16,839 - telegram.utils.promise - ERROR - An uncaught error was raised while running the promise
Traceback (most recent call last):
  File "prototype.py", line 103, in reply_to_messages
    combine_tags(message_json,current_document,all_tags)
  File "prototype.py", line 71, in combine_tags
    new_tags = list(set(current_document['tags'] + all_tags))
TypeError: 'NoneType' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ashoka/Documents/tattle_bot/venv/lib/python3.6/site-packages/telegram/utils/promise.py", line 57, in run
    self._result = self.pooled_function(*self.args, **self.kwargs)
  File "prototype.py", line 227, in storing_data
    reply_to_messages(relevant_section,False)
  File "prototype.py", line 109, in reply_to_messages
    error_message()
TypeError: error_message() missing 1 required positional argument: 'message_json'
2020-02-11 14:03:07,777 - telegram.ext.updater - INFO - Received signal 2 (SIGINT), stopping...
